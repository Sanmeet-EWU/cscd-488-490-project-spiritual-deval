@inject IJSRuntime JS
@using Microsoft.JSInterop

@page "/donation"
<PageTitle>Donation</PageTitle>
<PaymentComponent />

<h1 class="header-text">Support the Spiritual Temple</h1>

<label>Select Amount:</label>
<select @bind="DonationAmount">
    <option value="100">₹100</option>
    <option value="500">₹500</option>
    <option value="1000">₹1000</option>
    <option value="">Custom</option>
</select>

@if (string.IsNullOrEmpty(DonationAmount))
{
    <input @bind="CustomAmount" placeholder="Enter custom amount" />
}

<button @onclick="LaunchRazorpay">Donate Now</button>

@code {
    private string DonationAmount { get; set; } = "100";
    private string? CustomAmount { get; set; }

    private async Task LaunchRazorpay()
    {
        var amount = string.IsNullOrEmpty(DonationAmount) ? CustomAmount : DonationAmount;
        await JS.InvokeVoidAsync("launchRazorpay", amount);
    }
}
